---
# Configuration for ansible-lint
# Note: Some environments may have compatibility issues with newer ansible versions
offline: true

# Mock modules from collections that may not be installed during linting
mock_modules:
  - community.general.timezone
  - community.general.ufw
  - community.general.locale_gen
  - ansible.posix.sysctl
  - timezone
  - ufw
  - sysctl
  - locale_gen

exclude_paths:
  - .cache/
  - .git/
  - .github/
  - roles/*/molecule/

skip_list:
  - yaml[line-length]
  - name[missing]
  - name[casing]  # Allow lowercase handler names (e.g., "restart sshd")
  - fqcn[action-core]  # Allow short module names (apt vs ansible.builtin.apt)
  - fqcn[action]  # Allow short collection module names (ufw vs community.general.ufw)
  - var-naming[no-role-prefix]  # Allow variables without role prefix
  - command-instead-of-module  # Allow shell commands when needed
  - args[module]  # Mock modules don't have full argument specs
  - risky-file-permissions  # Permissions handled by system defaults
  - no-changed-when  # Some commands are intentionally always-run
  - risky-shell-pipe  # Pipes are used intentionally
  - command-instead-of-shell  # Shell features needed for some tasks
  - ignore-errors  # Some tasks intentionally use ignore_errors

warn_list:
  - experimental
  - role-name[path]
